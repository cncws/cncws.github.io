class APlayerElement extends HTMLElement{connectedCallback(){window.APlayer&&window.fetch&&this._init()}disconnectedCallback(){!this.lock&&this.aplayer&&(this.aplayer.list.clear(),this.aplayer.destroy())}_camelize(e){return e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase())}_init(){let e={};for(let t=0;t<this.attributes.length;t+=1)e[this._camelize(this.attributes[t].name)]=this.attributes[t].value;if(e.container){let t=document.getElementById(e.container);e.container=t}else{let t=document.createElement("div");e.container=t,this.appendChild(t)}this._loadAudios(e),this._convertType(e),this.aplayer=new APlayer(e)}_convertType(e){for(let t in e)"true"!==e[t]&&"false"!==e[t]||(e[t]="true"===e[t]);e.lrcType&&(e.lrcType=parseInt(e.lrcType))}_loadAudios(config){config.audios&&(config.audio=eval(config.audios.replace(/'/g,'"').replace(/\n/g,"")),config.audio.forEach(e=>{e.url=config.urlPrefix+e.url,e.cover=config.coverPrefix+e.cover,e.lrc=config.lrcPrefix+e.lrc}))}}window.customElements&&!window.customElements.get("aplayer-js")&&(window.APlayerElement=APlayerElement,window.customElements.define("aplayer-js",APlayerElement));